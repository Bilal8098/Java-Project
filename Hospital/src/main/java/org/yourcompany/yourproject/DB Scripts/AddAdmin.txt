CREATE OR REPLACE PROCEDURE AddAdmin(
AdminId NUMBER,
AdminName VARCHAR2,
AdminPass VARCHAR2,
AdminAddress VARCHAR2,
AdminAge NUMBER,
AdminPhone VARCHAR2,
AdminEmail VARCHAR2,
AdminSalary NUMBER
)
IS 
BEGIN
EXECUTE IMMEDIATE 'CREATE USER ' || AdminName || ' IDENTIFIED BY ' || AdminPass;
EXECUTE IMMEDIATE 'ALTER USER ' || AdminName || ' DEFAULT TABLESPACE users QUOTA UNLIMITED ON users';
EXECUTE IMMEDIATE 'ALTER USER ' || AdminName || ' TEMPORARY TABLESPACE TEMP';
EXECUTE IMMEDIATE 'GRANT CONNECT TO ' || AdminName;
EXECUTE IMMEDIATE 'GRANT CREATE SESSION, CREATE VIEW, CREATE TABLE, ALTER SESSION, CREATE SEQUENCE TO ' || AdminName;
EXECUTE IMMEDIATE 'GRANT CREATE SYNONYM, CREATE DATABASE LINK, RESOURCE, UNLIMITED TABLESPACE TO ' || AdminName;

INSERT INTO HospitalUsers(UserId, UserName, UserAddress,
UserAge, UserPhone, UserEmail, UserRole)
VALUES (AdminId, AdminName, AdminAddress,
AdminAge, AdminPhone, AdminEmail, 'Admin');

INSERT INTO ADMINS(ID, SALARY)
VALUES(AdminId,AdminSalary);
END;

